{"ast":null,"code":"import axios from \"axios\";\nconst BASE_URL = \"http://localhost:8080/api/patients\";\n\n// Function to get auth headers\nconst getAuthHeaders = () => {\n  const token = localStorage.getItem(\"auth\");\n  if (!token) {\n    throw new Error(\"No authentication found. Please log in.\");\n  }\n  return {\n    Authorization: `Bearer ${token}`\n  };\n};\n\n// ✅ Fetch patients\nexport const getPatients = async () => {\n  try {\n    const response = await axios.get(BASE_URL, {\n      headers: getAuthHeaders()\n    });\n    return response.data;\n  } catch (error) {\n    console.error(\"Error fetching patients:\", error);\n    throw error;\n  }\n};\n\n// ✅ Delete patient function\nexport const deletePatient = async id => {\n  try {\n    await axios.delete(`${BASE_URL}/${id}`, {\n      headers: getAuthHeaders()\n    });\n  } catch (error) {\n    console.error(\"Error deleting patient:\", error);\n    throw error;\n  }\n};\n\n// ✅ Logout function\nexport const logout = () => {\n  localStorage.removeItem(\"auth\");\n  window.location.href = \"/login\";\n};","map":{"version":3,"names":["axios","BASE_URL","getAuthHeaders","token","localStorage","getItem","Error","Authorization","getPatients","response","get","headers","data","error","console","deletePatient","id","delete","logout","removeItem","window","location","href"],"sources":["C:/Users/sinim/hospital-frontend/src/components/PatientService.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst BASE_URL = \"http://localhost:8080/api/patients\";\r\n\r\n// Function to get auth headers\r\nconst getAuthHeaders = () => {\r\n  const token = localStorage.getItem(\"auth\");\r\n  if (!token) {\r\n    throw new Error(\"No authentication found. Please log in.\");\r\n  }\r\n  return { Authorization: `Bearer ${token}` };\r\n};\r\n\r\n// ✅ Fetch patients\r\nexport const getPatients = async () => {\r\n  try {\r\n    const response = await axios.get(BASE_URL, { headers: getAuthHeaders() });\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error(\"Error fetching patients:\", error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// ✅ Delete patient function\r\nexport const deletePatient = async (id) => {\r\n  try {\r\n    await axios.delete(`${BASE_URL}/${id}`, { headers: getAuthHeaders() });\r\n  } catch (error) {\r\n    console.error(\"Error deleting patient:\", error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// ✅ Logout function\r\nexport const logout = () => {\r\n  localStorage.removeItem(\"auth\");\r\n  window.location.href = \"/login\";\r\n};\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,QAAQ,GAAG,oCAAoC;;AAErD;AACA,MAAMC,cAAc,GAAGA,CAAA,KAAM;EAC3B,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;EAC1C,IAAI,CAACF,KAAK,EAAE;IACV,MAAM,IAAIG,KAAK,CAAC,yCAAyC,CAAC;EAC5D;EACA,OAAO;IAAEC,aAAa,EAAE,UAAUJ,KAAK;EAAG,CAAC;AAC7C,CAAC;;AAED;AACA,OAAO,MAAMK,WAAW,GAAG,MAAAA,CAAA,KAAY;EACrC,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMT,KAAK,CAACU,GAAG,CAACT,QAAQ,EAAE;MAAEU,OAAO,EAAET,cAAc,CAAC;IAAE,CAAC,CAAC;IACzE,OAAOO,QAAQ,CAACG,IAAI;EACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;IAChD,MAAMA,KAAK;EACb;AACF,CAAC;;AAED;AACA,OAAO,MAAME,aAAa,GAAG,MAAOC,EAAE,IAAK;EACzC,IAAI;IACF,MAAMhB,KAAK,CAACiB,MAAM,CAAC,GAAGhB,QAAQ,IAAIe,EAAE,EAAE,EAAE;MAAEL,OAAO,EAAET,cAAc,CAAC;IAAE,CAAC,CAAC;EACxE,CAAC,CAAC,OAAOW,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;IAC/C,MAAMA,KAAK;EACb;AACF,CAAC;;AAED;AACA,OAAO,MAAMK,MAAM,GAAGA,CAAA,KAAM;EAC1Bd,YAAY,CAACe,UAAU,CAAC,MAAM,CAAC;EAC/BC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,QAAQ;AACjC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}